(function(e){function t(t){for(var r,o,c=t[0],s=t[1],l=t[2],f=0,d=[];f<c.length;f++)o=c[f],a[o]&&d.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/M365-Dashboard/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"2a90":function(e,t,n){"use strict";var r=n("7f30"),a=n.n(r);a.a},"49dc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("9483");Object(r["a"])("".concat("/M365-Dashboard/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var a=n("ecee"),i=n("c074"),o=n("f2d1"),c=n("b702"),s=n("ad3d"),l=n("2b0e"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},f=[],d=(n("034f"),n("2877")),m={},p=Object(d["a"])(m,u,f,!1,null,null,null),v=p.exports,h=n("8c4f"),g=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"container"},[r("div",{staticClass:"connection",on:{click:t.connect}},[r("font-awesome-icon",{class:{connected:t.isConnected},attrs:{icon:["fab","bluetooth"],size:"lg"}})],1),r("div",{staticClass:"temperature"},[r("font-awesome-icon",{attrs:{icon:"thermometer-half",size:"lg","fixed-width":""}}),r("div",{staticClass:"temperatureText"},[t._v("\n      "+t._s(this.$store.state.vehicleTemperature)+" °C\n    ")])],1),r("div",{staticClass:"home"},[r("div",{staticClass:"information"},[r("MainInfo",{attrs:{mainInfo:this.$store.state.kmRemaining}}),r("div",{staticClass:"importantInfo"},[r("AddInfo",{staticClass:"flexItem",attrs:{icon:this.$store.state.batteryIcon,info:this.$store.state.batteryLevel,unit:"%",subText:"baterie",large:""}}),r("AddInfo",{staticClass:"flexItem",attrs:{info:this.$store.state.avgSpeed,icon:"tachometer-alt",unit:"km/h",subText:"",large:""}})],1),r("div",{staticClass:"additionalInfo"},[r("AddInfo",{staticClass:"flexItem",attrs:{icon:["far","flag"],info:this.$store.state.kmTraveled,unit:"km",subText:"cursă"}}),r("AddInfo",{staticClass:"flexItem",attrs:{info:this.$store.state.kmTotal,icon:"road",unit:"km",subText:"total"}}),r("AddInfo",{staticClass:"flexItem",attrs:{info:this.$store.state.uptime.toString()+"m",icon:"stopwatch",unit:"",subText:"durată"}})],1)],1),r("div",{staticClass:"controls"},[r("ControlToggle",{attrs:{toggled:this.$store.state.vehicleLocked,iconTrue:"lock",iconFalse:"unlock",textTrue:"Blocat",textFalse:"Deblocat",disabled:!this.isConnected,action:function(){return e.$store.commit("lockUnlockVehicle")}}}),r("ControlToggle",{attrs:{toggled:this.$store.state.cruiseControl,iconTrue:["fas","compass"],iconFalse:["far","compass"],textTrue:"CC pornit",textFalse:"CC oprit",disabled:!this.isConnected,action:function(){return e.$store.commit("toggleCruiseControl")}}})],1)])])},b=[],x=(n("20d6"),n("34ef"),n("96cf"),n("3b8d")),C=(n("6c7b"),Uint8Array.from([85,170,3,32,1,180,2,37,255]).buffer),y=Uint8Array.from([85,170,3,32,1,185,2,32,255]).buffer,w=Uint8Array.from([85,170,3,32,1,183,4,32,255]).buffer,k=Uint8Array.from([85,170,3,32,1,187,2,30,255]).buffer,T=Uint8Array.from([85,170,3,32,1,178,2,39,255]).buffer,S=Uint8Array.from([85,170,3,32,1,124,2,93,255]).buffer,A=Uint8Array.from([85,170,3,32,1,59,2,158,255]).buffer,_=Uint8Array.from([85,170,3,32,1,182,2,35,255]).buffer,I=Uint8Array.from([85,170,4,32,3,112,1,0,103,255]).buffer,$=Uint8Array.from([85,170,4,32,3,113,1,0,102,255]).buffer,j=(Uint8Array.from([85,170,4,32,3,124,1,0,91,255]).buffer,Uint8Array.from([85,170,4,32,3,124,0,0,92,255]).buffer,n("2f62"));l["a"].use(j["a"]);var F,O=new j["a"].Store({state:{avgSpeed:0,batteryIcon:"battery-full",batteryLevel:0,gattServer:null,connected:!1,cruiseControl:!0,errorFlag:!1,kmRemaining:0,kmTotal:0,kmTraveled:0,rxCharacteristic:null,txCharacteristic:null,uptime:0,vehicleLocked:!1,vehicleSpeed:0,vehicleTemperature:null},mutations:{setGattServer:function(e,t){e.gattServer=t},setRxCharacteristic:function(e,t){e.rxCharacteristic=t},setTxCharacteristic:function(e,t){e.txCharacteristic=t},setConnected:function(e,t){e.connected=t,0==t&&(e.gattServer=null,e.errorFlag=!1,e.rxCharacteristic=null,e.txCharacteristic=null)},setErrorFlag:function(e,t){e.errorFlag=t},setBatteryLevel:function(e,t){e.batteryLevel=t},setKmRemaining:function(e,t){e.kmRemaining=Math.round(10*t)/10},setKmTotal:function(e,t){e.kmTotal=Math.round(t)},setKmTraveled:function(e,t){e.kmTraveled=Math.round(10*t)/10},setAvgSpeed:function(e,t){e.avgSpeed=Math.round(10*t)/10},setUptime:function(e,t){e.uptime=Math.round(t)},setVehicleTemperature:function(e,t){e.vehicleTemperature=Math.round(10*t)/10},setStateLocked:function(e,t){e.vehicleLocked=t},lockUnlockVehicle:function(e){e.vehicleLocked?J(e.txCharacteristic):q(e.txCharacteristic)},setStateCC:function(e,t){e.cruiseControl=t},toggleCruiseControl:function(e){}},actions:{}}),U=O,M="6e400001-b5a3-f393-e0a9-e50e24dcca9e",R="6e400002-b5a3-f393-e0a9-e50e24dcca9e",E="6e400003-b5a3-f393-e0a9-e50e24dcca9e",L=[[182,_],[180,C],[124,S],[185,y],[183,w],[187,k],[59,A],[178,T]],B=new Array(L.length).fill(0),P={filters:[{namePrefix:"MIScooter"},{services:["6e400001-b5a3-f393-e0a9-e50e24dcca9e"]}]};function V(){return z.apply(this,arguments)}function z(){return z=Object(x["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.bluetooth.requestDevice(P);case 3:t=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](0),U.commit("setErrorFlag",!0),e.abrupt("return");case 10:return t.addEventListener("gattserverdisconnected",Q),e.next=13,t.gatt.connect();case 13:return n=e.sent,U.commit("setConnected",!0),U.commit("setErrorFlag",!1),U.commit("setGattServer",n),e.next=19,n.getPrimaryService(M).then(function(e){return e.getCharacteristic(E)});case 19:return r=e.sent,e.next=22,n.getPrimaryService(M).then(function(e){return e.getCharacteristic(R)});case 22:a=e.sent,U.commit("setRxCharacteristic",r),U.commit("setTxCharacteristic",a),D(r),K(a);case 27:case"end":return e.stop()}},e,null,[[0,6]])})),z.apply(this,arguments)}function K(e){null!=F&&clearInterval(F);try{F=setInterval(Object(x["a"])(regeneratorRuntime.mark(function t(){var n,r,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=!1,r=0;case 2:if(!(r<L.length)){t.next=13;break}if(a=L[r][1],i=B[r],!i){t.next=7;break}return t.abrupt("continue",10);case 7:return t.next=9,e.writeValue(a);case 9:n=!0;case 10:r++,t.next=2;break;case 13:0==n&&(B=new Array(L.length).fill(0));case 14:case"end":return t.stop()}},t)})),300)}catch(t){clearInterval(F),U.commit("setConnected",!1),U.commit("setErrorFlag",!0)}}function D(e){e.startNotifications().then(function(e){e.addEventListener("characteristicvaluechanged",N)}).catch(function(e){return U.commit("setErrorFlag",!0)})}function N(e){var t,n=new Uint8Array(e.target.value.buffer),r=n[5];180==r?(t=n[6],U.commit("setBatteryLevel",t),U.commit("setKmRemaining",t/100*30)):185==r?(t=(n[6]+256*n[7])/100,U.commit("setKmTraveled",t)):183==r?(t=(n[6]+256*n[7]+256*n[8])/1e3,U.commit("setKmTotal",t)):187==r?(t=n[6]/10,U.commit("setVehicleTemperature",t)):178==r?(t=Boolean(7&n[6]),U.commit("setStateLocked",t)):124==r?(t=Boolean(n[6]),U.commit("setStateCC",t)):182==r?(t=(n[6]+256*n[7])/1e3,U.commit("setAvgSpeed",t)):59==r&&(t=(n[6]+256*n[7])/60,U.commit("setUptime",t));var a=L.findIndex(function(e){return e[0]==r});B[a]=1}function q(e){return G.apply(this,arguments)}function G(){return G=Object(x["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeValue(I);case 2:n=L.findIndex(function(e){return 178==e[0]}),B=new Array(L.length).fill(1),B[n]=1;case 5:case"end":return e.stop()}},e)})),G.apply(this,arguments)}function J(e){return H.apply(this,arguments)}function H(){return H=Object(x["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeValue($);case 2:n=L.findIndex(function(e){return 178==e[0]}),B=new Array(L.length).fill(1),B[n]=1;case 5:case"end":return e.stop()}},e)})),H.apply(this,arguments)}function Q(e){null!=F&&clearInterval(F),console.log("disconnected"),U.commit("setConnected",!1)}var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mainContainer"},[n("div",{staticClass:"mainText"},[e._v(e._s(e.mainInfo))]),n("div",{staticClass:"unit"},[e._v("km rămași")])])},X=[],Y={props:["mainInfo"]},Z=Y,ee=(n("2a90"),Object(d["a"])(Z,W,X,!1,null,"46cb2052",null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"widget"},[n("div",{staticClass:"info"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.icon,size:e.iconSize,"fixed-width":""}}),n("div",[n("div",{staticClass:"infoValue",class:{largeText:e.large}},[e._v(e._s(e.info))]),n("div",{staticClass:"subtitle"},[e.unit?n("div",{staticClass:"unit"},[e._v(e._s(e.unit))]):e._e(),e._v("\n          "+e._s(e.subText)+"\n        ")])])],1)])])},re=[],ae=(n("c5f6"),{props:{icon:[String,Array],info:[String,Number],unit:String,subText:String,large:{type:Boolean,default:!1}},computed:{iconSize:function(){return this.$props.large?"4x":"2x"}}}),ie=ae,oe=(n("7f44"),Object(d["a"])(ie,ne,re,!1,null,"d8d2d95a",null)),ce=oe.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container",class:{btnDisabled:e.disabled,ripple:!e.disabled},on:{click:e.action}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.toggled?e.iconTrue:e.iconFalse,size:"2x","fixed-width":""}})],1),e.disabled?e._e():n("div",{staticClass:"controlText"},[e._v("\n    "+e._s(e.toggled?e.textTrue:e.textFalse)+"\n  ")])])},le=[],ue={props:{iconTrue:[Array,String],iconFalse:[Array,String],action:{type:Function,required:!1,default:function(){}},toggled:{type:Boolean,required:!0,default:!1},textTrue:String,textFalse:String,disabled:Boolean}},fe=ue,de=(n("6098"),Object(d["a"])(fe,se,le,!1,null,"4c6fa77e",null)),me=de.exports,pe={name:"home",components:{MainInfo:te,AddInfo:ce,ControlToggle:me},computed:{isConnected:function(){return this.$store.state.connected}},methods:{connect:function(){V()}}},ve=pe,he=(n("cccb"),Object(d["a"])(ve,g,b,!1,null,null,null)),ge=he.exports;l["a"].use(h["a"]);var be=new h["a"]({routes:[{path:"/",name:"home",component:ge}]});a["c"].add(i["g"]),a["c"].add(i["a"]),a["c"].add(i["d"]),a["c"].add(i["f"]),a["c"].add(o["a"]),a["c"].add(o["b"]),a["c"].add(i["c"]),a["c"].add(i["h"]),a["c"].add(c["b"]),a["c"].add(i["b"]),a["c"].add(i["e"]),a["c"].add(c["a"]),l["a"].component("font-awesome-icon",s["a"]),l["a"].config.productionTip=!1,new l["a"]({router:be,store:U,render:function(e){return e(v)}}).$mount("#app")},6098:function(e,t,n){"use strict";var r=n("add7"),a=n.n(r);a.a},"64a9":function(e,t,n){},"7f30":function(e,t,n){},"7f44":function(e,t,n){"use strict";var r=n("49dc"),a=n.n(r);a.a},add7:function(e,t,n){},cccb:function(e,t,n){"use strict";var r=n("d563"),a=n.n(r);a.a},d563:function(e,t,n){}});
//# sourceMappingURL=app.cd9af461.js.map