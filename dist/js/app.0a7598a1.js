(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],f=0,d=[];f<c.length;f++)a=c[f],o[a]&&d.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"2a90":function(e,t,n){"use strict";var r=n("7f30"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("9483");Object(r["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var o=n("ecee"),i=n("c074"),a=n("f2d1"),c=n("b702"),s=n("ad3d"),u=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},f=[],d=(n("034f"),n("2877")),m={},v=Object(d["a"])(m,l,f,!1,null,null,null),h=v.exports,p=n("8c4f"),b=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"container"},[r("div",{staticClass:"connection",on:{click:t.connect}},[r("font-awesome-icon",{class:{connected:t.isConnected},attrs:{icon:["fab","bluetooth-b"],size:"lg"}})],1),r("div",{staticClass:"temperature"},[r("font-awesome-icon",{attrs:{icon:"thermometer-half",size:"lg","fixed-width":""}}),r("div",{staticClass:"temperatureText"},[t._v("\n      "+t._s(this.$store.state.vehicleTemperature)+" °C\n    ")])],1),r("div",{staticClass:"home"},[r("div",{staticClass:"information"},[r("MainInfo",{attrs:{mainInfo:this.$store.state.kmRemaining}}),r("div",{staticClass:"additionalInfo"},[r("AddInfo",{attrs:{icon:this.$store.state.batteryIcon,info:this.$store.state.batteryLevel,unit:"%",subText:"baterie"}}),r("div",{staticClass:"divider"}),r("AddInfo",{attrs:{icon:"road",info:this.$store.state.kmTraveled,unit:"km",subText:"parcurși"}}),r("div",{staticClass:"divider"}),r("AddInfo",{attrs:{info:this.$store.state.kmTotal,icon:"tachometer-alt",unit:"km",subText:"total"}})],1)],1),r("div",{staticClass:"controls"},[r("ControlToggle",{attrs:{toggled:this.$store.state.vehicleLocked,iconTrue:"lock",iconFalse:"unlock",textTrue:"Blocat",textFalse:"Deblocat",disabled:!this.isConnected,action:function(){return e.$store.commit("lockUnlockVehicle")}}}),r("ControlToggle",{attrs:{toggled:this.$store.state.cruiseControl,iconTrue:["fas","compass"],iconFalse:["far","compass"],textTrue:"CC pornit",textFalse:"CC oprit",disabled:!this.isConnected,action:function(){return e.$store.commit("toggleCruiseControl")}}})],1)])])},g=[],C=(n("96cf"),n("3b8d")),x=n("795b"),y=n.n(x),w=(n("34ef"),n("2f62"));u["a"].use(w["a"]);var T,k=new w["a"].Store({state:{connected:!1,bluetoothDevice:null,batteryLevel:0,batteryIcon:"battery-full",cruiseControl:!0,kmRemaining:0,kmTotal:0,kmTraveled:0,vehicleSpeed:0,vehicleTemperature:null,vehicleLocked:!1},mutations:{setConnected:function(e,t){e.connected=t,0==t&&(e.bluetoothDevice=null)},setBatteryLevel:function(e,t){e.batteryLevel=t},setKmRemaining:function(e,t){e.kmRemaining=t},setKmTotal:function(e,t){e.kmTotal=Math.round(t)},setKmTraveled:function(e,t){e.kmTraveled=Math.round(10*t)/10},setVehicleSpeed:function(e,t){e.vehicleSpeed=Math.round(10*t)/10},setVehicleTemperature:function(e,t){e.vehicleTemperature=Math.round(10*t)/10},setStateLocked:function(e,t){e.vehicleLocked=t},lockUnlockVehicle:function(e){e.vehicleLocked?z(e.bluetoothDevice):q(e.bluetoothDevice)},setStateCC:function(e,t){e.cruiseControl=t},toggleCruiseControl:function(e){},setDevice:function(e,t){e.bluetoothDevice=t}},actions:{}}),_=k,S="6e400001-b5a3-f393-e0a9-e50e24dcca9e",A="6e400002-b5a3-f393-e0a9-e50e24dcca9e",I="6e400003-b5a3-f393-e0a9-e50e24dcca9e",$=35,j=Uint8Array.from([85,170,3,32,1,180,2,37,255]).buffer,O=Uint8Array.from([85,170,3,32,1,185,2,32,255]).buffer,V=Uint8Array.from([85,170,3,32,1,183,4,32,255]).buffer,L=Uint8Array.from([85,170,3,32,1,187,2,30,255]).buffer,U=Uint8Array.from([85,170,3,32,1,178,2,39,255]).buffer,F=Uint8Array.from([85,170,3,32,1,124,2,93,255]).buffer,M=Uint8Array.from([85,170,4,32,3,112,1,0,103,255]).buffer,P=Uint8Array.from([85,170,4,32,3,113,1,0,102,255]).buffer,D=(Uint8Array.from([85,170,4,32,3,124,1,0,91,255]).buffer,Uint8Array.from([85,170,4,32,3,124,0,0,92,255]).buffer,{filters:[{namePrefix:"MIScooter"},{services:["6e400001-b5a3-f393-e0a9-e50e24dcca9e"]}]});function B(e){return new y.a(function(t){return setTimeout(t,e)})}function E(){return navigator.bluetooth.requestDevice(D)}function R(e){return e.addEventListener("gattserverdisconnected",G),e.gatt.connect().then(function(e){return _.commit("setConnected",!0),_.commit("setDevice",e),e})}function K(e){null!=T&&clearInterval(T),e.getPrimaryService(S).then(function(e){return e.getCharacteristic(A)}).then(function(e){T=setInterval(function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeValue(j);case 2:return e.next=4,B($);case 4:return e.next=6,t.writeValue(O);case 6:return e.next=8,B($);case 8:return e.next=10,t.writeValue(V);case 10:return e.next=12,B($);case 12:return e.next=14,t.writeValue(L);case 14:return e.next=16,B($);case 16:return e.next=18,t.writeValue(U);case 18:return e.next=20,B($);case 20:return e.next=22,t.writeValue(F);case 22:return e.next=24,B($);case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),500,e)}).catch(function(e){clearInterval(T),_.commit("setConnected",!1)})}function N(e){return e.getPrimaryService(S).then(function(e){return e.getCharacteristic(I)}).then(function(e){return e.startNotifications()}).then(function(e){e.addEventListener("characteristicvaluechanged",J)}).catch(function(e){return console.log(e)})}function q(e){return e.getPrimaryService(S).then(function(e){return e.getCharacteristic(A)}).then(function(e){return e.writeValue(M)}).catch(function(e){return console.log(e)})}function z(e){return e.getPrimaryService(S).then(function(e){return e.getCharacteristic(A)}).then(function(e){return e.writeValue(P)}).catch(function(e){return console.log(e)})}function J(e){var t,n=new Uint8Array(e.target.value.buffer),r=n[5];180==r?(t=n[6],_.commit("setBatteryLevel",t),_.commit("setKmRemaining",t/100*30)):185==r?(t=(n[6]+256*n[7])/10,_.commit("setKmTraveled",t)):183==r?(t=(n[6]+256*n[7]+256*n[8])/1e3,_.commit("setKmTotal",t)):187==r?(t=n[6]/10,_.commit("setVehicleTemperature",t)):178==r?(t=Boolean(7&n[6]),_.commit("setStateLocked",t)):124==r&&(t=Boolean(n[6]),_.commit("setStateCC",t))}function G(e){null!=T&&clearInterval(T)}var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mainContainer"},[n("div",{staticClass:"mainText"},[e._v(e._s(e.mainInfo))]),n("div",{staticClass:"unit"},[e._v("km rămași")])])},Q=[],W={props:["mainInfo"]},X=W,Y=(n("2a90"),Object(d["a"])(X,H,Q,!1,null,"46cb2052",null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"info"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.icon,size:"2x","fixed-width":""}}),n("div",{staticClass:"infoValue"},[e._v(e._s(e.info))])],1),n("div",{staticClass:"subtitle"},[n("div",{staticClass:"unit"},[e._v(e._s(e.unit))]),e._v("\n    "+e._s(e.subText)+"\n  ")])])},te=[],ne=(n("c5f6"),{props:{icon:[String,Array],info:[String,Number],unit:String,subText:String}}),re=ne,oe=(n("f456"),Object(d["a"])(re,ee,te,!1,null,"0afd5e0e",null)),ie=oe.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"container",class:{btnDisabled:e.disabled},on:{click:e.action}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.toggled?e.iconTrue:e.iconFalse,size:"2x","fixed-width":""}})],1),e.disabled?e._e():n("div",{staticClass:"controlText"},[e._v(e._s(e.toggled?e.textTrue:e.textFalse))])])},ce=[],se={props:{iconTrue:[Array,String],iconFalse:[Array,String],action:{type:Function,required:!1,default:function(){}},toggled:{type:Boolean,required:!0,default:!1},textTrue:String,textFalse:String,disabled:Boolean}},ue=se,le=(n("d3a4"),Object(d["a"])(ue,ae,ce,!1,null,"dfff3366",null)),fe=le.exports,de={name:"home",components:{MainInfo:Z,AddInfo:ie,ControlToggle:fe},computed:{isConnected:function(){return this.$store.state.connected}},methods:{connect:function(){var e;E().then(function(e){return R(e)}).then(function(t){return e=t,N(t)}).then(function(t){return K(e)})}}},me=de,ve=(n("cccb"),Object(d["a"])(me,b,g,!1,null,null,null)),he=ve.exports;u["a"].use(p["a"]);var pe=new p["a"]({routes:[{path:"/",name:"home",component:he}]});o["c"].add(i["f"]),o["c"].add(i["a"]),o["c"].add(i["d"]),o["c"].add(i["e"]),o["c"].add(a["a"]),o["c"].add(i["c"]),o["c"].add(i["g"]),o["c"].add(i["b"]),o["c"].add(c["a"]),u["a"].component("font-awesome-icon",s["a"]),u["a"].config.productionTip=!1,new u["a"]({router:pe,store:_,render:function(e){return e(h)}}).$mount("#app")},"5f60":function(e,t,n){},"64a9":function(e,t,n){},"7f30":function(e,t,n){},a324:function(e,t,n){},cccb:function(e,t,n){"use strict";var r=n("d563"),o=n.n(r);o.a},d3a4:function(e,t,n){"use strict";var r=n("5f60"),o=n.n(r);o.a},d563:function(e,t,n){},f456:function(e,t,n){"use strict";var r=n("a324"),o=n.n(r);o.a}});
//# sourceMappingURL=app.0a7598a1.js.map